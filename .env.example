# ImageCrafter Environment Variables
# Copy this to .env.local and fill in your values

# =============================================================================
# DATABASE (Neon PostgreSQL)
# =============================================================================
DATABASE_URL="postgresql://user:password@host.neon.tech/imagecrafter?sslmode=require"

# =============================================================================
# AUTHENTICATION (Clerk)
# =============================================================================
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_..."
CLERK_SECRET_KEY="sk_test_..."
CLERK_WEBHOOK_SECRET="whsec_..."

# Clerk URLs
NEXT_PUBLIC_CLERK_SIGN_IN_URL="/sign-in"
NEXT_PUBLIC_CLERK_SIGN_UP_URL="/sign-up"
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL="/generate"
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL="/generate"

# =============================================================================
# PAYMENTS (Stripe)
# =============================================================================
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Stripe Price IDs (create these in Stripe Dashboard)
STRIPE_PRICE_STARTER="price_..."
STRIPE_PRICE_PRO="price_..."
STRIPE_PRICE_TEAM="price_..."

# =============================================================================
# IMAGE GENERATION API (Your existing service)
# =============================================================================
IMAGE_GEN_API_URL="https://image-gen.xencolabs.com"
IMAGE_GEN_API_KEY="xgen-img-7f3k9m2p4q8r5t1v6w0y"

# =============================================================================
# AI GATEWAY (Xenco Labs - For prompt enhancement)
# =============================================================================
# Uses centralized AI gateway for:
# - Cost monitoring via LiteLLM
# - Model flexibility (Claude, GPT, Grok)
# - Centralized API key management
# - No exposed API keys in individual apps
#
# Get your API key from MCP Cluster Administrator
# Format: dm_appname_prod_xxx (e.g., dm_imagecrafter_prod_abc123)
# Without valid key, app will use fallback prompt enhancement
AI_GATEWAY_API_KEY="dm_imagecrafter_prod_..."
AI_GATEWAY_URL="https://api.reresume.app/api/ai/chat/completions"
AI_MODEL="claude-3-5-sonnet"
# Set to "true" to require AI enhancement (fail if unavailable)
# Set to "false" (default) to use fallback when AI is unavailable
AI_ENHANCEMENT_REQUIRED="false"

# =============================================================================
# APPLICATION
# =============================================================================
NEXT_PUBLIC_APP_URL="https://imagecrafter.app"

# =============================================================================
# CLOUDFLARE R2 STORAGE (Optional - for self-hosted image storage)
# =============================================================================
# Cloudflare R2 provides S3-compatible storage with zero egress costs
# Images will be stored on R2 instead of relying on external Gemini URLs
# Leave credentials blank to use Gemini-provided URLs only

# R2 Account and Credentials (from Cloudflare Dashboard → R2 → API Tokens)
R2_ACCOUNT_ID=""
R2_ACCESS_KEY_ID=""
R2_SECRET_ACCESS_KEY=""

# R2 Bucket Configuration
R2_BUCKET="imagecrafter-prod"
R2_ENDPOINT="https://<account-id>.r2.cloudflarestorage.com"

# Public URL for R2 objects (choose one)
# Option A: R2.dev subdomain (free, auto-configured)
# R2_PUBLIC_URL="https://pub-<hash>.r2.dev"
# Option B: Custom domain (requires DNS setup in Cloudflare)
R2_PUBLIC_URL="https://images.yourdomain.com"

# Image Expiration Settings (days, 0 = never expire)
R2_EXPIRATION_FREE_TIER=30
R2_EXPIRATION_STARTER=90
R2_EXPIRATION_PRO=365
R2_EXPIRATION_TEAM=0

# Thumbnail Generation
R2_GENERATE_THUMBNAILS=true
R2_THUMBNAIL_MAX_WIDTH=512

# Cron Job Secret (for cleanup endpoint authentication)
CRON_SECRET=""
